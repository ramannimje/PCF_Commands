My_IP: 3.209.35.116

set endpoint: proxy-src.research.ge.com:8080 
email_address: raman.nimje@capgemini.com
pass: Gen

***************** To set Api Endpoint **************************
C:\Users\rnimje\Documents\MyWorkSpace\APM>set https_proxy=proxy-src.research.ge.com:8080

C:\Users\rnimje\Documents\MyWorkSpace\APM>cf login

API endpoint> https://api.run.pivotal.io

Email> raman.nimje@capgemini.com

Password>
Authenticating...
OK

Targeted org CapGE

Targeted space development



API endpoint:   https://api.run.pivotal.io (API version: 2.128.0)
User:           raman.nimje@capgemini.com
Org:            CapGE
Space:          development

-------------------------------------------------

C:\Users\rnimje\Documents\MyWorkSpace\APM>cf push APM_RMN -m 512M -b java_buildpack

cf logs APM_RMN --recent >log.txt


Working Command to push an app:
cf push APM_RMN -m 64M -b https://github.com/cloudfoundry/staticfile-buildpack.git -s cflinuxfs2



java_buildpack     e-cflinuxfs2-v4.16.1.zip

cf push APM_RMN -m 64M -b https://github.com/cloudfoundry/java-buildpack.git -s cflinuxfs2

To delete App:

cf delete APM.war -r -f

cf push APM_RMN -m 1G -b https://github.com/cloudfoundry/java-buildpack.git -s cflinuxfs3

Actual run command for Pushing an application

cf push APM_RMN -p APM-0.0.1-SNAPSHOT.jar -m 1G

make sure there is enableautoconfiguration on the starter class

-----------------/////------------------------------------

cf push APM_RMN -p APM-0.0.1-SNAPSHOT.jar -m 1G -b https://github.com/cloudfoundry/java-buildpack.git#v3.6

cf push APM_RMN -p APM-0.0.1-SNAPSHOT.jar -m 1G --no-start

cf bind-service APM_RMN <Service name database>

mvn package spring-boot:repackage   (if you want to get the change in the .jar)

cf restart APM_RMN


/********//******/////

C:\Users\rnimje\Documents\MyWorkSpace\APM\target>cf push APM_RMN -p APM-0.0.1-SNAPSHOT.jar -m 1G --no-start
Pushing app APM_RMN to org CapGE / space development as raman.nimje@capgemini.co
m...
Getting app info...
Creating app with these attributes...
+ name:       APM_RMN
  path:       C:\Users\rnimje\Documents\MyWorkSpace\APM\target\APM-0.0.1-SNAPSHO
T.jar
+ memory:     1G
  routes:
+   apmrmn.cfapps.io

Creating app APM_RMN...
Mapping routes...
Comparing local files to remote cache...
Packaging files to upload...
Uploading files...
 2.12 MiB / 2.12 MiB [=============================================] 100.00% 7s

Waiting for API to complete processing files...

name:              APM_RMN
requested state:   stopped
instances:         0/1
usage:             1G x 1 instances
routes:            apmrmn.cfapps.io
last uploaded:     Fri 14 Dec 19:15:12 IST 2018
stack:             cflinuxfs2
buildpack:
start command:

There are no running instances of this app.


C:\Users\rnimje\Documents\MyWorkSpace\APM\target>cf restart APM_RMN
Restarting app APM_RMN in org CapGE / space development as raman.nimje@capgemini
.com...

Staging app and tracing logs...
   -----> Java Buildpack v4.16.1 (offline) | https://github.com/cloudfoundry/jav
a-buildpack.git#41b8ff8
   -----> Downloading Jvmkill Agent 1.16.0_RELEASE from https://java-buildpack.c
loudfoundry.org/jvmkill/trusty/x86_64/jvmkill-1.16.0_RELEASE.so (found in cache)

   -----> Downloading Open Jdk JRE 1.8.0_192 from https://java-buildpack.cloudfo
undry.org/openjdk/trusty/x86_64/openjdk-1.8.0_192.tar.gz (found in cache)
          Expanding Open Jdk JRE to .java-buildpack/open_jdk_jre (1.0s)
          JVM DNS caching disabled in lieu of BOSH DNS caching
   -----> Downloading Open JDK Like Memory Calculator 3.13.0_RELEASE from https:
//java-buildpack.cloudfoundry.org/memory-calculator/trusty/x86_64/memory-calcula
tor-3.13.0_RELEASE.tar.gz (found in cache)
          Loaded Classes: 15273, Threads: 250
   -----> Downloading Client Certificate Mapper 1.8.0_RELEASE from https://java-
buildpack.cloudfoundry.org/client-certificate-mapper/client-certificate-mapper-1
.8.0_RELEASE.jar (found in cache)
   -----> Downloading Container Security Provider 1.16.0_RELEASE from https://ja
va-buildpack.cloudfoundry.org/container-security-provider/container-security-pro
vider-1.16.0_RELEASE.jar (found in cache)
   -----> Downloading Spring Auto Reconfiguration 2.5.0_RELEASE from https://jav
a-buildpack.cloudfoundry.org/auto-reconfiguration/auto-reconfiguration-2.5.0_REL
EASE.jar (found in cache)
   Exit status 0
   Uploading droplet, build artifacts cache...
   Uploading droplet...
   Uploading build artifacts cache...
   Uploaded build artifacts cache (130B)
   Uploaded droplet (67.9M)
   Uploading complete
   Cell 357b30b9-5895-421c-a18e-528e48180c3f stopping instance 3a0fef57-2d08-481
9-a456-a81af58fab82
   Cell 357b30b9-5895-421c-a18e-528e48180c3f destroying container for instance 3
a0fef57-2d08-4819-a456-a81af58fab82

Waiting for app to start...

name:              APM_RMN
requested state:   started
instances:         1/1
usage:             1G x 1 instances
routes:            apmrmn.cfapps.io
last uploaded:     Fri 14 Dec 19:15:12 IST 2018
stack:             cflinuxfs2
buildpack:         client-certificate-mapper=1.8.0_RELEASE
                   container-security-provider=1.16.0_RELEASE
                   java-buildpack=v4.16.1-offline-https://github.com/cloudfoundr
y/java-buildpack.git#41b8ff8
                   java-main java-opts java-security
                   jvmkill-agent=1.16.0_RELEASE open-jd...
start command:     JAVA_OPTS="-agentpath:$PWD/.java-buildpack/open_jdk_jre/bin/j
vmkill-1.16.0_RELEASE=printHeapHistogram=1
                   -Djava.io.tmpdir=$TMPDIR
                   -Djava.ext.dirs=$PWD/.java-buildpack/container_security_provi
der:$PWD/.java-buildpack/open_jdk_jre/lib/ext
                   -Djava.security.properties=$PWD/.java-buildpack/java_security
/java.security
                   $JAVA_OPTS" &&
                   CALCULATED_MEMORY=$($PWD/.java-buildpack/open_jdk_jre/bin/jav
a-buildpack-memory-calculator-3.13.0_RELEASE
                   -totMemory=$MEMORY_LIMIT -loadedClasses=16051
                   -poolType=metaspace -stackThreads=250
                   -vmOptions="$JAVA_OPTS") && echo JVM Memory Configuration:
                   $CALCULATED_MEMORY && JAVA_OPTS="$JAVA_OPTS
                   $CALCULATED_MEMORY" && MALLOC_ARENA_MAX=2 SERVER_PORT=$PORT
                   eval exec $PWD/.java-buildpack/open_jdk_jre/bin/java
                   $JAVA_OPTS -cp $PWD/.
                   org.springframework.boot.loader.JarLauncher

     state     since                  cpu    memory        disk           detail
s
#0   running   2018-12-14T13:46:36Z   0.0%   45.8M of 1G   149.2M of 1G

/******/////******///******



mongo_service_name: mymongoservice

cf bind-service APM_RMN mymongoservice

cf push APM_RMN -p APM-0.0.1-SNAPSHOT.jar -m 1G -b https://github.com/cloudfoundry/java-buildpack.git#v3.6 --no-start

To TARGET THE deployment on different space:

cf target -s qa

--------------------

We need to do some proxy setting in the chrome by putting 10.195.54.52 port 80 so as to run the app in the chrome

